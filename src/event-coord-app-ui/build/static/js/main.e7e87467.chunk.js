(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{277:function(e,t,n){e.exports=n.p+"static/media/c553cf3a-3f68-4800-afa9-6f0d2822b74a_iStock_000017197016Medium.305ecb1f.jpg"},278:function(e,t,n){e.exports=n.p+"static/media/proxy.duckduckgo.com.690cc1be.jpeg"},5560:function(e,t,n){e.exports=n(5856)},5856:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),i=n.n(c),s=n(269),o=n(281),l=n(46),u=n(35),m="LOGIN_REQUEST",p="LOGIN_SUCCESS",d="LOGIN_FAILURE",h="SIGNUP_REQUEST",g="SIGNUP_SUCCESS",b="SIGNUP_ERROR",f="LOGOUT_SUCCESS",E="LOGOUT_ERROR",O="LOGOUT_REQUEST",v="CHECK_TOKEN_REQUEST",j="CHECK_TOKEN_SUCCESS",w="CHECK_TOKEN_FAILURE",y={authReducer:{isFetching:!1,isAuthenticated:!!localStorage.getItem("id_token"),user:{},error:{error:""}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(u.a)({},e,{isFetching:!0,isAuthenticated:!1,user:t.payload});case p:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!0});case d:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!1,error:t.payload});case O:return Object(u.a)({},e,{isFetching:!0,isAuthenticated:!0});case f:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!1});case h:return Object(u.a)({},e,{isFetching:!0,isAuthenticated:!1,user:t.payload});case g:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!0});case b:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!1});case v:return Object(u.a)({},e,{isFetching:!0,isAuthenticated:!1});case j:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!0});case w:return Object(u.a)({},e,{isFetching:!1,isAuthenticated:!1});default:return e}},S=Object(l.combineReducers)({authReducer:x}),C=n(25),k=n.n(C),I=n(17),L=n(55),N=n.n(L),R=function(e){e?(console.log("setauth token: ",e),N.a.defaults.headers.common={Authorization:"Bearer ".concat(e)}):delete N.a.defaults.headers.common.Authorization},T=n(271),A=n.n(T);function F(e){if(!e)throw Error(e.statusText);return e.response.data}function B(e,t,n){return N.a.post("/api/signup",{email:t,password:n,username:e}).then(function(e){localStorage.setItem("jwtToken",e.data.token)}).catch(function(e){throw e})}function q(e,t){return N.a.post("/api/login",{email:e,password:t}).then(function(e){var t=e.data.id_token;return localStorage.setItem("jwtToken",t),R(t),A()(t)}).catch(function(e){if(e)throw e})}function _(e){return N()({method:"get",url:"/api/checkToken",headers:{Authorization:"Bearer ".concat(e)},params:{token:e}}).then(function(e){localStorage.setItem("jwtToken",e.data.token)}).catch(function(e){throw e})}function G(){localStorage.removeItem("jwtToken"),R("")}var U=k.a.mark(J),P=k.a.mark(Q),H=k.a.mark($),W=k.a.mark(V),D=k.a.mark(Y),z=k.a.mark(X),K=k.a.mark(Z),M=k.a.mark(ee);function J(e){var t,n,a,r,c;return k.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,n=t.username,a=t.email,r=t.password,i.prev=1,i.next=4,Object(I.b)(B,n,a,r);case 4:return i.next=6,Object(I.d)({type:g});case 6:i.next=15;break;case 8:return i.prev=8,i.t0=i.catch(1),i.next=12,Object(I.b)(F,i.t0);case 12:return c=i.sent,i.next=15,Object(I.d)({type:b,res:c});case 15:case"end":return i.stop()}},U,null,[[1,8]])}function Q(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(h,J);case 2:case"end":return e.stop()}},P)}function $(e){var t,n;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(I.b)(q,e.payload.email,e.payload.password);case 3:return t=a.sent,a.next=6,Object(I.d)({type:p,response:t});case 6:a.next=15;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(I.b)(F,a.t0);case 12:return n=a.sent,a.next=15,Object(I.d)({type:d,payload:n});case 15:case"end":return a.stop()}},H,null,[[0,8]])}function V(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(m,$);case 2:case"end":return e.stop()}},W)}function Y(){var e;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(I.b)(G);case 3:return t.next=5,Object(I.d)({type:f});case 5:t.next=14;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(I.b)(F,t.t0);case 11:return e=t.sent,t.next=14,Object(I.d)({type:E,res:e});case 14:case"end":return t.stop()}},D,null,[[0,7]])}function X(e){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(I.b)(_,e.payload);case 3:return t.next=5,Object(I.d)({type:j});case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(I.d)({type:w,err:t.t0});case 11:case"end":return t.stop()}},z,null,[[0,7]])}function Z(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(v,X);case 2:case"end":return e.stop()}},K)}function ee(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.e)(O,Y);case 2:case"end":return e.stop()}},M)}var te=Q,ne=k.a.mark(ae);function ae(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.a)([Object(I.c)(te),Object(I.c)(V),Object(I.c)(ee),Object(I.c)(Z)]);case 2:case"end":return e.stop()}},ne)}var re=n(272),ce=Object(o.a)(),ie=Object(s.createLogger)(),se=Object(l.createStore)(S,Object(re.composeWithDevTools)(Object(l.applyMiddleware)(ce,ie)));ce.run(ae);var oe=se,le=n(5860),ue=n(113),me=n(47),pe=n(280),de=n(30),he=n(31),ge=n(34),be=n(32),fe=n(33),Ee=n(29),Oe=n(2),ve=function(e){return Object(Ee.createStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})},je=n(5858),we=Object(Ee.withStyles)(ve)(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(Oe.a,{position:"static"},a.createElement(Oe.A,null,a.createElement(Oe.B,{variant:"h6",color:"inherit",className:t.grow},"Event coordination"),e.isAuthenticated?a.createElement(Oe.c,{color:"inherit",component:function(e){return a.createElement(je.a,Object.assign({to:"/logout"},e))}},"Log out"):a.createElement(a.Fragment,null,a.createElement(Oe.c,{color:"inherit",component:function(e){return a.createElement(je.a,Object.assign({to:"/login"},e))}},"Login"),a.createElement(Oe.c,{color:"inherit",component:function(e){return a.createElement(je.a,Object.assign({to:"/signup"},e))}},"Sign Up")))))}),ye=n(5861),xe=n(5859),Se=n(5863),Ce=n(41),ke=n(53),Ie=n(24),Le=n(11),Ne=n.n(Le),Re=n(74);var Te=n(5862),Ae=function(e){return Object(Ee.createStyles)({main:Object(Ce.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},errormessage:{fontSize:12,color:"red",textAlign:"center",marginTop:10}})},Fe=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).state={username:"",password:"",confirmPassword:"",email:"",formErrors:[""]},n.handleSubmitForm=n.handleSubmitForm.bind(Object(ke.a)(n)),n.handleChange=n.handleChange.bind(Object(ke.a)(n)),n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(Ce.a)({},e.target.name,e.target.value))}},{key:"handleSubmitForm",value:function(e){var t=this;e.preventDefault();var n=this.state,a=n.username,r=n.password,c=n.confirmPassword,i=n.email,s=Re.object({username:Re.string().required(),password:Re.string().min(6,"password must be at least 6 characters long").required(),confirmPassword:Re.string().oneOf([r],"Passwords are not the same!").required("Password confirmation is required!"),email:Re.string().email("email is not valid").required()}),o={username:a,email:i,password:r,confirmPassword:c};s.validate(o).catch(function(e){return t.setState({formErrors:e.errors})}),s.isValid(o).then(function(e){e?t.props.signupRequest({username:a,email:i,password:r}):console.log("user schema is not valid")}).catch(function(e){return console.log("signup error: ",e)})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.username,r=t.password,c=t.confirmPassword,i=t.email,s=t.formErrors;return this.props.isAuthenticated?a.createElement(Te.a,{to:"/"}):a.createElement("main",{className:e.main},a.createElement(Oe.i,null),a.createElement(Oe.x,{className:e.paper},a.createElement(Oe.b,{className:e.avatar},a.createElement(Ie.f,null)),a.createElement(Oe.B,{component:"h1",variant:"h5"},"Sign Up"),a.createElement("form",{className:e.form,onSubmit:this.handleSubmitForm},a.createElement(Oe.j,{margin:"normal",required:!0,fullWidth:!0},a.createElement(Oe.q,{htmlFor:"username"},"Username"),a.createElement(Oe.p,{id:"username",name:"username",autoComplete:"username",autoFocus:!0,value:n,onChange:this.handleChange})),a.createElement(Oe.j,{margin:"normal",required:!0,fullWidth:!0},a.createElement(Oe.q,{htmlFor:"email"},"Email Address"),a.createElement(Oe.p,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:this.handleChange})),a.createElement(Oe.j,{margin:"normal",required:!0,fullWidth:!0},a.createElement(Oe.q,{htmlFor:"password"},"Password"),a.createElement(Oe.p,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:r,onChange:this.handleChange})),a.createElement(Oe.j,{margin:"normal",required:!0,fullWidth:!0},a.createElement(Oe.q,{htmlFor:"password"},"Confirm Password"),a.createElement(Oe.p,{name:"confirmPassword",type:"password",id:"confirm-password",autoComplete:"current-password",value:c,onChange:this.handleChange})),a.createElement("div",null,a.createElement(Oe.c,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},"Sign Up"),s?a.createElement(Oe.B,{className:e.errormessage},s):""))))}}]),t}(a.Component),Be=Ne()(Ae)(Fe),qe=Object(me.b)(function(e){return{isAuthenticated:e.authReducer.isAuthenticated,isFetching:e.authReducer.isFetching,user:e.authReducer.user,error:e.authReducer.error}},{signupRequest:function(e){return{type:h,payload:e}}})(Be),_e=function(e){return Object(Ee.createStyles)({main:Object(Ce.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit},errormessage:{fontSize:12,color:"red",textAlign:"center",marginTop:10}})},Ge=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).state={email:"",password:""},n.handleOnSubmit=n.handleOnSubmit.bind(Object(ke.a)(n)),n.handleChange=n.handleChange.bind(Object(ke.a)(n)),n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(Ce.a)({},e.target.name,e.target.value))}},{key:"handleOnSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.email,a=t.password;this.props.requestLogin({email:n,password:a})}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.error,r=this.state,c=r.password,i=r.email;return this.props.isAuthenticated?a.createElement(Te.a,{to:"/"}):a.createElement("main",{className:t.main},a.createElement(Oe.i,null),a.createElement(Oe.x,{className:t.paper},a.createElement(Oe.b,{className:t.avatar},a.createElement(Ie.f,null)),a.createElement(Oe.B,{component:"h1",variant:"h5"},"Sign in"),a.createElement("form",{className:t.form,onSubmit:this.handleOnSubmit},a.createElement(Oe.j,{margin:"normal",required:!0,fullWidth:!0},a.createElement(Oe.q,{htmlFor:"email"},"Email Address"),a.createElement(Oe.p,{id:"email",name:"email",autoComplete:"email",autoFocus:!0,value:i,onChange:this.handleChange})),a.createElement(Oe.j,{margin:"normal",required:!0,fullWidth:!0},a.createElement(Oe.q,{htmlFor:"password"},"Password"),a.createElement(Oe.p,{name:"password",type:"password",id:"password",autoComplete:"current-password",value:c,onChange:this.handleChange})),a.createElement(Oe.c,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign in"),n?a.createElement(Oe.B,{className:t.errormessage},n.error):"")))}}]),t}(a.Component),Ue=Ne()(_e)(Ge),Pe=Object(me.b)(function(e,t){return{isAuthenticated:e.authReducer.isAuthenticated,isFetching:e.authReducer.isFetching,user:e.authReducer.user,error:e.authReducer.error}},{requestLogin:function(e){return{type:m,payload:e}}})(Ue),He=n(273),We=function(e){return Object(Ee.createStyles)({main:Object(Ce.a)({width:"auto",display:"block",marginLeft:3*e.spacing.unit,marginRight:3*e.spacing.unit},e.breakpoints.up(400+3*e.spacing.unit*2),{width:400,marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:8*e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.secondary.main}})},De=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).state={redirect:!1},n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"componentDidMount",value:function(){var e=Object(He.a)(k.a.mark(function e(){var t=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.logoutRequest();case 2:return e.next=4,setTimeout(function(){return t.setState({redirect:!0})},3e3);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return!this.props.isAuthenticated&&this.state.redirect?a.createElement(Te.a,{to:"/"}):a.createElement("main",{className:e.main},a.createElement(Oe.i,null),a.createElement(Oe.x,{className:e.paper},a.createElement(Oe.b,{className:e.avatar},a.createElement(Ie.f,null)),a.createElement(Oe.B,{component:"h1",variant:"h5"},"You have logged out. Bye !")))}}]),t}(a.Component),ze=Ne()(We)(De),Ke=Object(me.b)(function(e,t){return{isAuthenticated:e.authReducer.isAuthenticated,isFetching:e.authReducer.isFetching,user:e.authReducer.user}},{logoutRequest:function(){return{type:O}}})(ze),Me=function(e){return Object(Ee.createStyles)({root:{}})},Je=n(114),Qe=n.n(Je),$e=function(e){return Object(Ee.createStyles)({container:{display:"flex",flexWrap:"wrap",backgroundColor:e.palette.primary.light,padding:"50px 50px",marginBottom:"40px"},margin:{margin:e.spacing.unit},cssLabel:{"&$cssFocused":{color:Qe.a[500]}},cssFocused:{},cssUnderline:{"&:after":{borderBottomColor:Qe.a[500]}},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:Qe.a[500]}},notchedOutline:{}})},Ve=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).handleOnChange=function(e){n.props.onSearchLocationChange(e.target.value)},n.handleOnClick=function(){n.props.onClick()},n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.searchLocation;return a.createElement("div",{className:e.search},a.createElement(Oe.l,{container:!0,direction:"column",alignItems:"center",justify:"flex-start",className:e.container},a.createElement(Oe.B,{variant:"h3",gutterBottom:!0},"Search for a bar around you"),a.createElement(Oe.l,{container:!0,direction:"row",alignItems:"center",justify:"center"},a.createElement(Oe.z,{InputLabelProps:{classes:{root:e.cssLabel,focused:e.cssFocused}},InputProps:{classes:{root:e.cssOutlinedInput,focused:e.cssFocused,notchedOutline:e.notchedOutline}},label:"Search...",variant:"outlined",id:"custom-css-outlined-input",onChange:this.handleOnChange,value:t}),a.createElement(Oe.c,{variant:"contained",size:"large",color:"primary",className:e.margin,onClick:this.handleOnClick},"Search"))))}}]),t}(a.Component),Ye=Object(Ee.withStyles)($e)(Ve),Xe=n(274),Ze=n(107),et=n.n(Ze),tt=function(e){return Object(Ee.createStyles)({root:Object(u.a)({"max-width":"450px",backgroundColor:"#f5f5f5"},e.mixins.gutters()),location:{margin:"15px"},media:{height:0,paddingTop:"56.25%"},faviconisactive:{color:"red"}})},nt=n(12),at=n.n(nt),rt=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).renderPriceRange=function(){return a.createElement(Oe.l,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:8,wrap:"nowrap"},a.createElement(Oe.l,{item:!0},a.createElement(Oe.B,{component:"p"},"Price range:")),a.createElement(Oe.l,{item:!0},a.createElement(Oe.B,{component:"p"},n.props.price)))},n.renderRating=function(){return a.createElement(Oe.l,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:8,wrap:"nowrap"},a.createElement(Oe.l,{item:!0},a.createElement(Oe.B,{component:"p"},"Rating:")),a.createElement(Oe.l,{item:!0},a.createElement(Oe.B,{component:"p"},n.props.rating)))},n.renderLocation=function(){return a.createElement(Oe.l,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:16,wrap:"nowrap"},a.createElement(Ie.e,null),n.state.location)},n.handleOnChangeLove=function(){n.setState(function(e){return{isLoving:!e.isLoving}},function(){n.props.loveBar(n.props.cardHeaderTitle,n.state.isLoving)})},n.handleOnChangeAttendance=function(){n.setState(function(e){return{isAttending:!e.isAttending}},function(){n.props.attendBar(n.props.cardHeaderTitle,n.state.isAttending)})},n.state={location:"",cardHeaderTitle:"",cardHeaderSubheader:"",cardMediaImage:"",isAttending:!1,isLoving:!1},n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.isLoving,n=this.props,r=n.cardHeaderTitle,c=n.image,i=Array.from(this.props.location);return a.createElement(a.Fragment,null,a.createElement(Oe.d,{className:e.root},a.createElement(Oe.g,{title:r}),a.createElement(Oe.h,{image:c,className:e.media,title:"Bar pic"}),a.createElement(Oe.f,null,a.createElement(Oe.l,{container:!0,direction:"row",justify:"center",alignItems:"center",wrap:"nowrap",className:e.location},a.createElement(Ie.e,null),a.createElement(Oe.r,null,a.createElement(Oe.s,null,a.createElement(Oe.u,{primary:i.slice(0,-2).toString()})),a.createElement(Oe.s,null,a.createElement(Oe.u,{primary:i[i.length-2]})))),a.createElement(Oe.l,{container:!0,direction:"row",justify:"space-between",alignItems:"center",wrap:"nowrap"},this.renderPriceRange(),this.renderRating())),a.createElement(Oe.e,{disableActionSpacing:!0},a.createElement(Oe.l,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},a.createElement(Oe.o,{"aria-label":"Add to favorites",onClick:this.handleOnChangeLove},a.createElement(Ie.d,{color:"action",className:at()(t&&at()(e.faviconisactive))})),a.createElement(Oe.k,{control:a.createElement(Oe.y,{value:this.state.isAttending,color:"primary"}),label:"I'm going",onChange:this.handleOnChangeAttendance})))))}}]),t}(a.Component),ct=Object(Ee.withStyles)(tt)(rt),it=function(e){return Object(Ee.createStyles)({root:Object(u.a)({},e.mixins.gutters()),menuitem:{alignItems:"center"},demo:{minHeight:200}})},st=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).updateBarsILove=function(e,t){if(t)n.state.barsILove.includes(e)||n.state.barsILove.push(e);else{var a=n.state.barsILove.indexOf(e);-1!==a&&n.state.barsILove.splice(a,1)}n.setState(function(e){return{barsILove:e.barsILove}})},n.updateBarsImGoingTo=function(e,t){if(t)n.state.barsImGoingTo.includes(e)||n.state.barsImGoingTo.push(e);else{var a=n.state.barsImGoingTo.indexOf(e);-1!==a&&n.state.barsImGoingTo.splice(a,1)}n.setState(function(e){return{barsImGoingTo:e.barsImGoingTo}})},n.state={barsImGoingTo:[],barsILove:[]},n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.businesses,c=this.state,i=c.barsImGoingTo,s=c.barsILove;return a.createElement(Oe.l,{container:!0,spacing:16,className:n.container},a.createElement(Oe.l,{item:!0,xs:10,className:n.gridList},a.createElement(Oe.m,{cellHeight:"auto",spacing:10,cols:3},r.map(function(t){return a.createElement(Oe.n,{key:t.id},a.createElement(ct,{cardHeaderTitle:t.name,image:t.image_url,price:t.price,rating:t.rating,location:t.location,attendBar:e.updateBarsImGoingTo,loveBar:e.updateBarsILove}))}))),a.createElement(Oe.l,{item:!0,xs:2,className:n.gridListNoTiles},a.createElement(Oe.x,{className:n.paper},a.createElement(Oe.w,null,a.createElement(Oe.v,{className:n.menuItem,disabled:!0},a.createElement(Oe.t,{className:n.icon},a.createElement(Ie.a,null)),a.createElement(Oe.u,{classes:{primary:n.primary},inset:!0,primary:"Bars I'm going to:"}))),a.createElement("div",{className:n.demo},a.createElement(Oe.r,{dense:!0},i.map(function(e){return a.createElement(Oe.s,{key:e},a.createElement(Oe.t,null,a.createElement(Ie.b,null)),a.createElement(Oe.u,{primary:e}))}))),a.createElement(Oe.w,null,a.createElement(Oe.v,{className:n.menuItem,disabled:!0},a.createElement(Oe.t,{className:n.icon},a.createElement(Ie.d,null)),a.createElement(Oe.u,{classes:{primary:n.primary},inset:!0,primary:"Bars I love:"}))),a.createElement("div",{className:n.demo},a.createElement(Oe.r,{dense:!0},s.map(function(e){return a.createElement(Oe.s,{key:e},a.createElement(Oe.t,null,a.createElement(Ie.b,null)),a.createElement(Oe.u,{primary:e}))}))))))}}]),t}(a.Component),ot=Object(Ee.withStyles)(it)(st);function lt(){var e=Object(Xe.a)(['\n    query FindAllBusinesses($location: String!)\n        {\n            businesses(term:"bar", location: $location){\n                id\n                name\n                distance\n                image_url\n                price\n                rating\n                location\n            }\n        }\n']);return lt=function(){return e},e}var ut=et()(lt()),mt=function(e){var t=e.location;return a.createElement(ue.b,{query:ut,variables:{location:t}},function(e){var t=e.data.businesses,n=e.loading,r=e.error;return n||!t?a.createElement("div",null,"Loading ..."):(r&&console.log("error: ",r),a.createElement(ot,{businesses:t}))})},pt=function(e){function t(e){var n;return Object(de.a)(this,t),(n=Object(ge.a)(this,Object(be.a)(t).call(this,e))).handleChangeSearchLocation=function(e){n.setState({searchLocation:e})},n.setLocation=function(){n.setState({location:n.state.searchLocation})},n.state={searchLocation:"",location:""},n}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.searchLocation,r=t.location,c=a.createElement(mt,{location:r}),i=a.createElement("div",null);return a.createElement(a.Fragment,null,a.createElement(Oe.x,{className:e.root,elevation:2},a.createElement(Ye,{onSearchLocationChange:this.handleChangeSearchLocation,searchLocation:n,onClick:this.setLocation}),r?c:i))}}]),t}(a.Component),dt=Object(Ee.withStyles)(Me)(pt),ht=n(282),gt=function(e){return Object(Ee.createStyles)({root:{flexGrow:1,marginTop:30},container:{gridGap:"".concat(3*e.spacing.unit,"px")},text:{color:"purple"},img:{width:"100%",borderRadius:"5%"}})},bt=n(277),ft=n.n(bt),Et=n(278),Ot=n.n(Et),vt=Object(Ee.withStyles)(gt)(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(Oe.l,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:32,className:t.container},a.createElement(Oe.l,{item:!0,xs:2}),a.createElement(Oe.l,{item:!0,xs:4},a.createElement(Oe.l,{item:!0},a.createElement("img",{className:t.img,alt:"bar",src:ft.a}))),a.createElement(Oe.l,{item:!0,xs:4},a.createElement(Oe.B,{component:"h3",variant:"display3",gutterBottom:!0,className:t.text},a.createElement(Oe.r,null,a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"See the list of bars next to where you live"})),a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"Select your favourite bars"})),a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"Select which bars you plan to go to"}))))),a.createElement(Oe.l,{item:!0,xs:2})),a.createElement(Oe.l,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:24},a.createElement(Oe.l,{item:!0,xs:2}),a.createElement(Oe.l,{item:!0,xs:4},a.createElement(Oe.B,{component:"h3",variant:"display3",gutterBottom:!0,className:t.text},a.createElement(Oe.r,null,a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"This full stack app is meant to practice my JS skills"})),a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"It is based on ReactJS, Redux, Redux saga, Typescript for the frontend"})),a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"NodeJS and express for the backend, and a MongoDB database"})),a.createElement(Oe.s,null,a.createElement(Oe.t,null,a.createElement(Ie.c,null)),a.createElement(Oe.u,{primary:"It also relies on a Apollo graphQL server to fetch data, which is hosted on heroku"}))))),a.createElement(Oe.l,{item:!0,xs:4},a.createElement(Oe.l,{item:!0},a.createElement("img",{className:t.img,alt:"bar",src:Ot.a}))),a.createElement(Oe.l,{item:!0,xs:2})))}),jt=function(e){var t=e.component,n=Object(ht.a)(e,["component"]),a=n.isAuthenticated;return r.a.createElement(xe.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(vt,null)}}))},wt=function(e){function t(){return Object(de.a)(this,t),Object(ge.a)(this,Object(be.a)(t).apply(this,arguments))}return Object(fe.a)(t,e),Object(he.a)(t,[{key:"render",value:function(){var e=this.props.theme;return a.createElement(Ee.MuiThemeProvider,{theme:e},a.createElement(we,this.props),a.createElement(ye.a,null,a.createElement(jt,Object.assign({exact:!0,path:"/"},this.props,{component:dt})),a.createElement(xe.a,{path:"/login",component:Pe}),a.createElement(xe.a,{path:"/signup",component:qe}),a.createElement(xe.a,{path:"/logout",component:Ke})))}}]),t}(a.Component),yt=Object(Ee.withTheme)()(wt),xt=Object(Se.a)(Object(me.b)(function(e,t){return{isAuthenticated:e.authReducer.isAuthenticated,isFetching:e.authReducer.isFetching,user:e.authReducer.user,error:e.authReducer.error}},{})(yt)),St=new pe.a({uri:"https://event-coordination-app.herokuapp.com/graphql",headers:{authorization:"Bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).API_KEY),"content-type":"application/json"}}),Ct=localStorage.getItem("jwtToken");null!==Ct&&oe.dispatch({type:v,payload:Ct});i.a.render(r.a.createElement(function(e){var t=e.store;return r.a.createElement(me.a,{store:t},r.a.createElement(ue.a,{client:St},r.a.createElement(le.a,null,r.a.createElement(xt,null))))},{store:oe}),document.getElementById("root"))}},[[5560,1,2]]]);
//# sourceMappingURL=main.e7e87467.chunk.js.map